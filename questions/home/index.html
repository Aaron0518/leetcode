<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>克隆图 第一部分</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="Jekyll • Simple, blog-aware, static sites - Feed" href="/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Jekyll’s master branch" href="https://github.com/mojombo/jekyll/commits/master.atom" />
  <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/normalize.css" />
  <link rel="stylesheet" href="/css/gridism.css" />
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/css/pygments.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.png" />
  <script src="/js/modernizr-2.5.3.min.js"></script>
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
  <a href="/">首页</a>
  </li>
  <li class="">
  <a href="/questions/home">题库</a>
  </li>
  <li class="">
  <a href="/news">新闻</a>
  </li>
  <li class="">
    <a href="https://github.com/xiangzhai/leetcode">GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <h1>
        <a href="/">
          <span>LeetCode中文</span>
          <img src="/img/logo-2x.png" width="249px" height="115px" alt="">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
  <a href="/">首页</a>
  </li>
  <li class="">
  <a href="/questions/home">题库</a>
  </li>
  <li class="">
  <a href="/news">新闻</a>
  </li>
  <li class="">
    <a href="https://github.com/xiangzhai/leetcode">GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>


    <section class="questions">
    <div class="grid">

      <div class="unit four-fifths">
        <article>
          <h1>克隆图 第一部分</h1>
          <div class='note info'>
    克隆一个图。输入的是一个Node指针。返回值是被克隆的图的Node指针。

    一个图的结构体定义如下：
    
<div class='highlight'><pre><code class='cpp'><span class='lineno'>1</span>     <span class='k'>struct</span> <span class='n'>Node</span> <span class='p'>{</span>
<span class='lineno'>2</span>         <span class='n'>std</span><span class='o'>::</span><span class='n'>vector</span> <span class='n'>neighbors</span><span class='p'>;</span>
<span class='lineno'>3</span>     <span class='p'>}</span>
<span class='lineno'>4</span>     
</code></pre>
</div>


</div>
<p>Hint: There are two main ways to traverse a graph. Do you still remember them? Could you tell if the graph is directed or undirected?</p>

<p>Solution: There are two main ways to traverse a graph: Breadth-first or Depth-first. Let’s try the Breadth-first approach first, which requires a queue. For the Depth-first approach, please see Clone Graph Part II.</p>

<p>How does the breadth-first traversal works? Easy, as we pop a node off the queue, we copy each of its neighbors, and push them to the queue.</p>

<p>A straight forward breadth-first traversal seemed to work. But some details are still missing. For example, how do we connect the nodes of the cloned graph?</p>

<p>Before we continue, we first need to make sure if the graph is directed or not. If you notice how Node is defined above, it is quite obvious that the graph is a directed graph. Why?</p>

<p>For example, A can have a neighbor called B. Therefore, we may traverse from A to B. An undirected graph implies that B can always traverse back to A. Is it true here? No, because whether B could traverse back to A depends if one of B’s neighbor is A.</p>

<p>The fact that B can traverse back to A implies that the graph may contain a cycle. You must take extra care to handle this case. Imagine that you finished implementing without considering this case, and later being pointed out by your interviewer that your code has an infinite loop, yuck!</p>

<p>Let’s analyze this further by using the below example:</p>

<p>A simple graph Assume that the starting point of the graph is A. First, you make a copy of node A (A2), and found that A has only one neighbor B. You make a copy of B (B2) and connects A2-&gt;B2 by pushing B2 as A2′s neighbor. Next, you find that B has A as neighbor, which you have already made a copy of. Here, we have to be careful not to make a copy of A again, but to connect B2-&gt;A2 by pushing A2 as B2′s neighbor. But, how do we know if a node has already been copied?</p>

<p>Easy, we could use a hash table! As we copy a node, we insert it into the table. If we later find that one of a node’s neighbor is already in the table, we do not make a copy of that neighbor, but to push its neighbor’s copy to its copy instead. Therefore, the hash table would need to store a mapping of key-value pairs, where the key is a node in the original graph and its value is the node’s copy.</p>
          <div class="section-nav">
  <div class="left align-right">
    
      <span class="prev disabled">返回</span>
    
  </div>
  <div class="right align-left">
    
    <a href="/questions/longest-palindromic-substring-part-ii" class="next">
        下一个
      </a>
    
  </div>
  <div class="clear"></div>
</div>


        </article>
      </div>

      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>Copyright 2013 (C) Zhai Xiang <xiangzhai83@gmail.com></p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>所有题库、答案、源代码遵循GPL V3 请轻轻地注明出处地转载</p>
    </div>
  </div>
</footer>

  
  <!-- Gauges (http://gaug.es/) -->
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '503c5af6613f5d0f19000027');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>





</body>
</html>
